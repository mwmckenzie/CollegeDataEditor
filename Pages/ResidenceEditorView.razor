@page "/ResidenceEditorView"
@using CollegeDataEditor.Services
@using ValueType = CollegeDataEditor.Enums.IndexedValueType
@using Microsoft.AspNetCore.Authorization

@attribute [Authorize(Roles = "admin,editor")]

@inject DbService _dbService;
@inject ViewModelService _viewModelService;


<IndexedValueEditTable listName="Residence"
                       ViewModel="_viewModelService.ResidenceDbVm"/>


@code {
    
    protected override void OnInitialized()
    {
        base.OnInitialized();

        var vm = _viewModelService.ResidenceDbVm;
        vm.dbService = _dbService;
        vm.db = _dbService.ResidencesDb;
        vm.valueType = ValueType.Residence;
        
    }

}